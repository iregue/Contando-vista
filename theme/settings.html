<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="assets/img/favorites-star-icon.png">

    <title>Counting Stars</title>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/font-awesome.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!--<script src="assets/js/jquery-validate/dist/jquery.validate.js"></script>-->
    <!--https://1000hz.github.io/bootstrap-validator/-->
    <script src="assets/js/validator/validator.js"></script>
    <!--<script src="assets/js/modernizr.js"></script>-->
    <!-- Pluging para cookies-->
    <script src="assets/js/jquery.cookie.js"></script>





    <!-- JavaScript -->
    <script src="//cdn.jsdelivr.net/alertifyjs/1.8.0/alertify.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/alertifyjs/1.8.0/css/alertify.min.css"/>
    <!-- Default theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/alertifyjs/1.8.0/css/themes/default.min.css"/>
    <!-- Semantic UI theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/alertifyjs/1.8.0/css/themes/semantic.min.css"/>
    <!-- Bootstrap theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/alertifyjs/1.8.0/css/themes/bootstrap.min.css"/>

    <!--
        RTL version
    -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/alertifyjs/1.8.0/css/alertify.rtl.min.css"/>
    <!-- Default theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/alertifyjs/1.8.0/css/themes/default.rtl.min.css"/>
    <!-- Semantic UI theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/alertifyjs/1.8.0/css/themes/semantic.rtl.min.css"/>
    <!-- Bootstrap theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/alertifyjs/1.8.0/css/themes/bootstrap.rtl.min.css"/>





</head>
<body>
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">SOLID.</a>
            </div>
            <div class="navbar-collapse collapse navbar-right">
                <ul class="nav navbar-nav">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="registro.html">Registro</a></li>
                    <li><a href="stats.html">Analizar</a></li>
                    <li><a href="about.html">Acerca de</a></li>
                    <li class="active"><a href="settings.html">Ajustes</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Últimos eventos <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="perseidas16.html">Perseidas 2016</a></li>
                            <li><a href="#">Perseidas 2015</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </div>
    <!-- ===========================FORMULARIO========================pattern="^[\d.]+$" -->
        <div class="container mtb">
            <div class="row col-md-6 col-md-offset-3">
                <h2>Guarda tu ubicación</h2><br>
            </div>
            <form data-toggle="validator" role="form" id="formulario" method="post">
                <div class="form-group has-feedback col-md-6 col-md-offset-3">
                    <label>Latitud</label>
                    <input type="text" name="latitud" id="latitud" data-error="Introduzca una latitud en formato correcto" pattern="^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)" class="form-control" placeholder="" required>
                    <div class="help-block with-errors">Introduzca una latitud en formato correcto</div>
                </div>
                <div class="form-group has-feedback col-md-6 col-md-offset-3">
                    <label>Longitud</label>
                    <input type="text" name="longitud" id="longitud" data-error="Introduzca una longitud en formato correcto" pattern="\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$" class="form-control" placeholder="" required>
                    <div class="help-block with-errors">Introduzca una longitud en formato correcto</div>
                </div>
                <div class="row col-md-12 col-md-offset-3">
                    <button type="button" onclick="getGPS()" id= "btn-2" class="btn btn-primary btn-md">Usar GPS del dispositivo</button>
                </div>
                <div class="form-group col-md-6 col-md-offset-3">
                </div>

                <div class="row col-md-6 col-md-offset-3">
                    <button type="submit" onclick="addLocation()" id= "btn-1" class="btn btn-danger btn-lg">Guardar</button>
                </div>
                <div class="form-group col-md-6 col-md-offset-3">
                </div>
                <div class="row col-md-6 col-md-offset-3">
                    <a href="registro.html"><i class="fa fa-arrow-left fa-2x" aria-hidden="true">Volver</i></a>
                </div>
            </form>
        </div>


    <!-- ===========================FORMULARIO======================== -->

    <div id="footerwrap">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <h4>Acerca de</h4>
                    <div class="hline-w"></div>
                    <p>Esta aplicación ha sido creada para dar soporte a eventos astronómicos con la que se pueda llevar un seguimiento de los bólidos avistados. <br><a href="about.html">Más información</a></p>
                </div>
                <div class="col-lg-4">
                    <h4>Desarrollador</h4>
                    <div class="hline-w"></div>
                    <p>Ignacio Regueiro Tuñon alumno de la Escuela Técnica Superior de Ingenieros Informáticos de la Universidad Politécnica de Madrid ha realizado esta aplicación como trabajo de fin de grado.
                        <br><a href="https://twitter.com/IgnaRegue"><i class="fa fa-twitter"></i></a>
                    </p>
                </div>
                <div class="col-lg-4">
                    <h4>Donde estamos</h4>
                    <div class="hline-w"></div>
                    <p>
                        C/ Campus de Montegancedo, s/n<br/>
                        Facultad de Informática-Universidad Politécnica de Madrid<br/>
                        28660-Madrid<br/>
                    </p>
                </div>

            </div><! --/row -->
        </div><! --/container -->
    </div><! --/footerwrap -->

    <!-- Bootstrap core JavaScript
       ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/retina-1.1.0.js"></script>
    <script src="assets/js/jquery.hoverdir.js"></script>
    <script src="assets/js/jquery.hoverex.min.js"></script>
    <script src="assets/js/jquery.prettyPhoto.js"></script>
    <script src="assets/js/jquery.isotope.min.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="assets/js/validator/validator.js"></script>

    <script>

        function addLocation()
        {
            var _latitud = $('#latitud').val();
            var _longitude = $('#longitud').val();

            $.cookie('latitude', _latitud);
            $.cookie('longitude', _longitude);
           // alert(document.cookie);
            }


        function getGPS() {

            if (navigator.geolocation)
            {
                navigator.geolocation.getCurrentPosition(function(objPosition)
                {

                    var lon = objPosition.coords.longitude;
                    var lat = objPosition.coords.latitude;
                    //$.cookie('latitude', lat);
                    //$.cookie('longitude', lon);
                    // alert(document.cookie);
                    $('#latitud').val(lat);
                    $('#latitud').focus();
                    $('#longitud').val(lon);
                    $('#longitud').focus();
                }, function(objPositionError)
                {
                    switch (objPositionError.code)
                    {
                        case objPositionError.PERMISSION_DENIED:
                            alert( "No se ha permitido el acceso a la posición del usuario.");
                            break;
                        case objPositionError.POSITION_UNAVAILABLE:
                            alert("No se ha podido acceder a la información de su posición.");
                            break;
                        case objPositionError.TIMEOUT:
                            alert("El servicio ha tardado demasiado tiempo en responder.");
                            break;
                        default:
                            alert("Error desconocido.");
                    }
                }, {
                    maximumAge: 75000,
                    timeout: 15000
                });
            }
            else
            {
                alert("Su navegador no soporta la API de geolocalización.");
            }
        }



        $('#latitud').val($.cookie('latitude'));
        $('#longitud').val($.cookie('longitude'));
    </script>

</body>
</html>